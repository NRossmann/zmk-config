# Side-specific settings for Kyria right half
# See ZMK Split Configuration docs

# ========== Optional Hardware Features ==========
# Uncomment these two lines to add support for rotary encoders to your firmware
# CONFIG_EC11=y
# CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# Uncomment the following line to enable the Kyria OLED Display
CONFIG_ZMK_DISPLAY=y

# ========== RGB Underglow Settings ==========
# Enable RGB underglow lighting
CONFIG_ZMK_RGB_UNDERGLOW=y
# Use WS2812B LED strip driver
CONFIG_WS2812_STRIP=n
# Disable external power control (LEDs powered from main power)
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n
# Don't auto-off LEDs when idle
CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=n
# Brightness settings: max=100%, min=100%, startup=10% to prevent power issues
CONFIG_ZMK_RGB_UNDERGLOW_BRT_MAX=100
CONFIG_ZMK_RGB_UNDERGLOW_BRT_MIN=100

# ========== Wired Connection ==========
# Enable USB support (right half connects to host via USB)
CONFIG_ZMK_USB=y

# ========== Wireless (BLE) Configuration ==========
# Enable split keyboard functionality
CONFIG_ZMK_SPLIT=y
# Enable Bluetooth Low Energy connectivity
CONFIG_ZMK_BLE=y
# Increase BLE transmit power to +8dBm for better split keyboard connection range
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
# Enable split keyboard BLE mode
CONFIG_ZMK_SPLIT_BLE=y

# ========== BLE Connection Stability ==========
# Increase stack size for central device role (left half)
CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_STACK_SIZE=2048
# Increase message queue size for central device
CONFIG_ZMK_SPLIT_BLE_CENTRAL_SPLIT_RUN_QUEUE_SIZE=20
# Maximum simultaneous BLE connections
CONFIG_BT_MAX_CONN=5
# Maximum paired BLE devices
CONFIG_BT_MAX_PAIRED=5

# ========== Split Keyboard Role ==========
# Set the right half as the peripheral device (receives input from central left half)
CONFIG_ZMK_SPLIT_ROLE_CENTRAL=n
